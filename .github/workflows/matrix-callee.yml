name: matrix-callee
on:
  workflow_call:
    inputs:
      name:
        type: string
        required: true
      sleep:
        type: number
        required: true
      success:
        type: boolean
        required: true

jobs:
  first-job:
    runs-on: ubuntu-22.04
    steps:
      - name: first-job-first-step
        env:
          name: ${{inputs.name}}
        run:
          echo $name
  second-job:
    needs: ['first-job']
    runs-on: ubuntu-22.04
    steps:
      - name: second-job-first-step
        env:
          name: ${{inputs.name}}
          success: ${{inputs.success}}
          sleep: ${{inputs.sleep}}
        run:
          sleep $sleep;
          if $success; then
            echo "success";
          else;
            echo "::error::some error is occured";
            exit 1;
          fi
